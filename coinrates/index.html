<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
   
   function getCoinRates(elementId, coinIdentifier, targetCurrency)
   {
      var request = new XMLHttpRequest();
      request.onreadystatechange = function() 
      { 
          if (request.readyState == 4 && request.status == 200)
          {
               var limit = 6;
               if(targetCurrency != "eur") limit = 10;
               const currencyPropertyName = "price_"+targetCurrency;
               var response = JSON.parse(request.responseText);
               document.getElementById(elementId).innerHTML = response[0][currencyPropertyName].substring(0, limit);
          }
      }
      request.open("GET", "https://cors-anywhere.herokuapp.com/https://api.coinmarketcap.com/v1/ticker/" + coinIdentifier +"/?convert=" + targetCurrency, true);
      //request.open("GET", "https://jsonp.herokuapp.com/?callback=&url=https://api.coinmarketcap.com/v1/ticker/" + coinIdentifier +"/?convert=" + targetCurrency, true);
      
      request.send(null);
   }
   
   function getRates()
   {     
      getCoinRates("etheur", "ethereum", "eur");
      getCoinRates("neoeur", "neo", "eur");
      getCoinRates("gaseur", "gas", "eur");
      getCoinRates("btceur", "bitcoin", "eur");
      getCoinRates("walton", "walton", "eur");
      getCoinRates("req", "request-network", "eth");
      getCoinRates("iota", "iota", "eur");
      getCoinRates("icon", "icon", "eur");
      getCoinRates("bnty", "bounty0x", "eth");
      
   }
   
</script>   
</head>

<body onload="getRates()">

<b>--------------------------</b>
<br>
   
<b>Ethereum (EUR)</b>
<div id="etheur">...loading</div>
</br>

<b>Neo (EUR)</b>
<div id="neoeur">..loading</div>
</br>

<b>Gas (EUR)</b>
<div id="gaseur">..loading</div>
</br>

<b>Bitcoin (EUR)</b>
<div id="btceur">..loading</div>
</br>

<b>Icon (EUR)</b>
<div id="icon">..loading</div>
</br>

<b>IOTA (EUR)</b>
<div id="iota">..loading</div>
</br>

<b>--------------------------</b>
<br>

<b>Request (ETH) </b>
<div id="req">..loading</div>
</br>

<b>Bounty (ETH) </b>
<div id="bnty">..loading</div>
</br>

<b>Waltonchain tokens (EUR)</b>
<div id="walton">..loading</div>
</br>
   
</body>
</html> 
