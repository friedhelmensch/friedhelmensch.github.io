<!DOCTYPE html>
<html>
<head>
<script>
function getRates()
{   
    var request = require('request');
    request('http://www.google.com', function (error, response, body) {
    //console.log('error:', error); // Print the error if one occurred
    //console.log('statusCode:', response && response.statusCode); // Print the response status code if a response was received
    //console.log('body:', body); // Print the HTML for the Google homepage.
    alert("hi");
    });

    var krakenHttp = new XMLHttpRequest();
    krakenHttp.onreadystatechange = function() { 
        if (krakenHttp.readyState == 4 && krakenHttp.status == 200)
        {
            var response = JSON.parse(krakenHttp.responseText);
            document.getElementById("etheur").innerHTML = response.result.XETHZEUR.a[0];
            document.getElementById("xmreur").innerHTML = response.result.XXMRZEUR.a[0];
            document.getElementById("ltceur").innerHTML = response.result.XLTCZEUR.a[0];
            document.getElementById("xlmeur").innerHTML = response.result.XXLMZEUR.a[0];
            document.getElementById("btceur").innerHTML = response.result.XXBTZEUR.a[0];
        }
    }
    krakenHttp.open("GET", "https://api.kraken.com/0/public/Ticker?pair=XETHZEUR,XXMRZEUR,XXBTZEUR,XLTCZEUR,XXLMZEUR", true);
    krakenHttp.send(null);
}

</script>
</head>

<body onload="getRates()">

<h2>Kraken ticker</h2>

<h3>Ethereum</h3>
<p id="etheur">...loading</p>

<h3>Litecoin</h3>
<p id="ltceur">..loading</p>

<h3>Monero</h3>
<p id="xmreur">..loading</p>

<h3>Token Card_so</h3>
<p id="tkneur">not working yet</p>
    
<h3>Stellar Lumen</h3>
<p id="xlmeur">..loading</p>
    
<h3>Bitcoin alter</h3>
<p id="btceur">..loading</p>

</body>
</html> 
