<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
   
   function getRates()
   {     
      var krakenHttp = new XMLHttpRequest();
      krakenHttp.onreadystatechange = function() { 
          if (krakenHttp.readyState == 4 && krakenHttp.status == 200)
          {
               var response = JSON.parse(krakenHttp.responseText);
               document.getElementById("etheur").innerHTML = response.result.XETHZEUR.a[0].substring(0, 6);
               document.getElementById("btceur").innerHTML = response.result.XXBTZEUR.a[0].substring(0, 6);
          }
      }
      krakenHttp.open("GET", "https://api.kraken.com/0/public/Ticker?pair=XETHZEUR,XXBTZEUR", true);
      krakenHttp.send(null);
      
      
      var tokenCard = new XMLHttpRequest();
      tokenCard.onreadystatechange = function() 
      { 
          if (tokenCard.readyState == 4 && tokenCard.status == 200)
          {
               var response = JSON.parse(tokenCard.responseText);
               document.getElementById("tkneur").innerHTML = response[0].price_eur.substring(0, 6);
          }
      }
      tokenCard.open("GET", "https://cors-anywhere.herokuapp.com/https://api.coinmarketcap.com/v1/ticker/tokencard/?convert=EUR", true);
      tokenCard.send(null);
      
      var golem = new XMLHttpRequest();
      golem.onreadystatechange = function() 
      { 
          if (golem.readyState == 4 && golem.status == 200)
          {
               var response = JSON.parse(golem.responseText);
               document.getElementById("gnteur").innerHTML = response[0].price_eur.substring(0, 6);
          }
      }
      golem.open("GET", "https://cors-anywhere.herokuapp.com/https://api.coinmarketcap.com/v1/ticker/golem-network-tokens/?convert=EUR", true);
      golem.send(null);

      var bat = new XMLHttpRequest();
      bat.onreadystatechange = function() 
      { 
          if (bat.readyState == 4 && bat.status == 200)
          {
               var response = JSON.parse(bat.responseText);
               document.getElementById("bateur").innerHTML = response[0].price_eur.substring(0, 6);
          }
      }
      bat.open("GET", "https://cors-anywhere.herokuapp.com/https://api.coinmarketcap.com/v1/ticker/basic-attention-token/?convert=EUR", true);
      bat.send(null);
      
      var ans = new XMLHttpRequest();
      ans.onreadystatechange = function() 
      { 
          if (ans.readyState == 4 && ans.status == 200)
          {
               var response = JSON.parse(ans.responseText);
               document.getElementById("anseur").innerHTML = response[0].price_eur.substring(0, 6);
          }
      }
      ans.open("GET", "https://cors-anywhere.herokuapp.com/https://api.coinmarketcap.com/v1/ticker/antshares/?convert=EUR", true);
      ans.send(null);
      
   }
</script>   
</head>

<body onload="getRates()">

<h2>Kraken ticker</h2>

<h3>Ethereum</h3>
<p id="etheur">...loading</p>
   
<h3>Antshares</h3>
<p id="anseur">..loading</p>

<h3>Golem network tokens</h3>
<p id="gnteur">..loading</p>

<h3>Basic Attention Token</h3>
<p id="bateur">..loading</p>
   
<h3>Token Card</h3>
<p id="tkneur">..loading</p>
   
<h3>Bitcoin</h3>
<p id="btceur">..loading</p>
   
</body>
</html> 
